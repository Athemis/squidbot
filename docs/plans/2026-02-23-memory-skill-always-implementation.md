# Memory Skill: always:true + Body Trim — Implementation Plan

> **For Claude:** REQUIRED SUB-SKILL: Use superpowers:executing-plans to implement this plan task-by-task.

**Goal:** Make the memory skill always-injected (`always: true`) and trim its body to reduce per-turn context overhead.

**Architecture:** Two edits to a single file (`squidbot/skills/memory/SKILL.md`): flip the frontmatter flag and rewrite the body to be ~25 lines instead of ~55, preserving all essential guidance. No code changes. No test changes needed — skill loading is already tested; content is agent-facing documentation.

**Tech Stack:** Markdown, YAML frontmatter.

**Prerequisite:** 360 tests pass. Confirm: `uv run pytest -q`

---

### Task 1: Set `always: true` and rewrite body

**Files:**
- Modify: `squidbot/skills/memory/SKILL.md`

**Step 1: Verify current state**

Run: `head -6 squidbot/skills/memory/SKILL.md`

Expected:
```
---
name: memory
description: "Manage your long-term memory document across sessions."
always: false
requires: {}
---
```

**Step 2: Replace the entire file**

Write the following content to `squidbot/skills/memory/SKILL.md`:

```markdown
---
name: memory
description: "Manage your long-term memory document across sessions."
always: true
requires: {}
---

# Memory

**`## Your Memory`** — Your global cross-session notes (MEMORY.md). Injected into every
system prompt when non-empty. Write to it with `memory_write`. Persists across all sessions.

**`## Session Summary`** — Auto-generated by the system. You cannot write to it.

## Using `memory_write`

Call it proactively when you learn something worth keeping across sessions: user preferences,
ongoing projects, key facts, things the user asks you to remember.

Do **not** use it for ephemeral context (current task state, things already in MEMORY.md,
session-only information).

The tool **replaces** the entire document. Always:
1. Read `## Your Memory` from the system prompt.
2. Merge new info in — never lose existing facts.
3. Keep under ~300 words. Prefer bullet points.
```

**Step 3: Verify frontmatter**

Run: `head -6 squidbot/skills/memory/SKILL.md`

Expected:
```
---
name: memory
description: "Manage your long-term memory document across sessions."
always: true
requires: {}
---
```

**Step 4: Verify line count is roughly halved**

Run: `wc -l squidbot/skills/memory/SKILL.md`

Expected: ~28 lines (previously 55)

**Step 5: Run ruff (habit)**

Run: `uv run ruff check .`
Expected: no errors

**Step 6: Run full test suite**

Run: `uv run pytest -q`
Expected: 360 passed

**Step 7: Commit**

```bash
git add squidbot/skills/memory/SKILL.md
git commit -m "feat(skills): set memory skill always:true and trim body for context efficiency"
```
